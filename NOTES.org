* This branch
The original idea was to move over to a better structure for my NixOS files, which is represented here; where only machine-specific files are in the 'machines' folder.

The flake.lock files seem to conflict, however, as NixOS on my Framework was installed with a newer version of grub.

#+begin_src
updating systemd-boot from 256.8 to 257.2
Copied "/nix/store/b5nslvx24h0b1m4iml7cykg4dwwf8b7k-systemd-257.2/lib/systemd/boot/efi/systemd-bootx64.efi" to "/boot/EFI/systemd/systemd-bootx64.efi".
Copied "/nix/store/b5nslvx24h0b1m4iml7cykg4dwwf8b7k-systemd-257.2/lib/systemd/boot/efi/systemd-bootx64.efi" to "/boot/EFI/BOOT/BOOTX64.EFI".
Failed to create EFI Boot variable entry: Invalid argument
Traceback (most recent call last):
  File "/nix/store/0xgdwagd2287sqyy87laih52jfknkf52-systemd-boot/bin/systemd-boot", line 431, in <module>
    main()
  File "/nix/store/0xgdwagd2287sqyy87laih52jfknkf52-systemd-boot/bin/systemd-boot", line 414, in main
    install_bootloader(args)
  File "/nix/store/0xgdwagd2287sqyy87laih52jfknkf52-systemd-boot/bin/systemd-boot", line 348, in install_bootloader
    run(
  File "/nix/store/0xgdwagd2287sqyy87laih52jfknkf52-systemd-boot/bin/systemd-boot", line 58, in run
    return subprocess.run(cmd, check=True, text=True, stdout=stdout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nix/store/qrc496n6fsqp4p5m5h8wmw5d5jwyw5mr-python3-3.12.8/lib/python3.12/subprocess.py", line 571, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['/nix/store/b5nslvx24h0b1m4iml7cykg4dwwf8b7k-systemd-257.2/bin/bootctl', '--esp-path=/boot', 'update']' returned non-zero exit status 1.
Failed to install bootloader
warning: error(s) occurred while switching to the new configuration
#+end_src

So I will need to look into this.
